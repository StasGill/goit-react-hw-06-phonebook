(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{46:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a,c=n(1),r=n(0),o=n(8),s=n.n(o),i=n(33),u=n(34),l=n(39),b=n(37),j=function(e,t){var n=e.contact,a=e.handleDelete;return Object(c.jsxs)("li",{className:"listItem",children:[Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{children:"Name:  "})," ",n.name]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{children:"Number:  "})," ",n.number]}),Object(c.jsx)("button",{onClick:a,className:"handleButton",name:n.id,children:"Delete"})]},t)},d=n(75),p=n(77),f=(n(46),n(7)),O=n(2),m=n(38),h=n(13),x=n(76),v="@bootCamps/adNewNumber",N="@bootCamps/deleteNumber",g="@bootCamps/setFilter",y="@bootCamps/setWarning",w="@bootCamps/GETNEWNUMBER",C=n(9),k=Object(C.a)(v,(function(e){return{payload:Object(O.a)(Object(O.a)({},e),{},{id:Object(x.a)()})}})),F=Object(C.a)(w,(function(e){return{payload:Object(h.a)(e)}})),P=Object(C.a)(N),D=Object(C.a)(g),E=Object(C.a)(y),I=n(10),W=n(16),A=n.n(W),B=n(24),T=n(19),S=n.n(T),J={name:"",number:""},L=Object(I.b)((function(e){return{contacts:e.contacts,filter:e.filter}}),(function(e){return{addNumber:function(t){e(k(t))},deleteNumber:function(t){e(P(t))},setFilter:function(t){e(D(t))},setWarning:function(t){e(E(t))}}}))((function(e){var t=e.contacts,n=e.addNumber,a=(e.deleteNumber,e.setWarning),o=Object(r.useState)(Object(O.a)({},J)),s=Object(m.a)(o,2),i=s[0],u=s[1],l=Object(I.c)(),b=function(e){u(Object(O.a)(Object(O.a)({},i),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(r.useEffect)((function(){l(function(){var e=Object(B.a)(A.a.mark((function e(t){var n,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("https://socialprofile-96fb9-default-rtdb.firebaseio.com/numbers.json");case 3:n=e.sent,a=Object.keys(n.data).map((function(e){return Object(O.a)(Object(O.a)({},n.data[e]),{},{id:e})})),t(F(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[0,8,11,13]])})));return function(t){return e.apply(this,arguments)}}())}),[l]),Object(c.jsx)("div",{className:"addPanel",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c,r=i.name;if(t.some((function(e){return e.name===r})))a("on"),u(Object(O.a)({},J));else{var o={name:i.name,number:i.number};l((c=o,function(){var e=Object(B.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.post("https://socialprofile-96fb9-default-rtdb.firebaseio.com/numbers.json",c);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.prev=8,e.finish(8);case 10:case"end":return e.stop()}}),e,null,[[0,5,8,10]])})));return function(t){return e.apply(this,arguments)}}())),n(o),u(Object(O.a)({},J)),a("off")}},children:[Object(c.jsx)("h2",{children:"Name"}),Object(c.jsx)("input",{type:"text",className:"addPanelInput",placeholder:"Type name...",name:"name",value:i.name,onChange:b}),Object(c.jsx)("h2",{children:"Number"}),Object(c.jsx)("input",{type:"text",className:"addPanelInput",placeholder:"Type number...",name:"number",value:i.number,onChange:b}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{type:"submit",className:"handleButton",children:"Add contact"})]})})})),M=function(e){Object(l.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).setNewFilter=function(t){e.props.setFilter(t.target.value)},e.handleDelete=function(t){var n=t.target.name;e.props.deleteApiNumber(n),e.props.deleteNumber(n)},e.filter=function(){return e.props.contacts?e.props.contacts.filter((function(t){return t.name.toLowerCase().includes(e.props.filter.toLowerCase())})):void 0},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(d.a,{in:"on"===this.props.warning,timeout:500,classNames:"fade",unmountOnExit:!0,children:Object(c.jsx)("div",{className:"warning",children:Object(c.jsx)("p",{children:"Contact already exist"})})}),Object(c.jsx)("div",{className:"addPanel",children:Object(c.jsx)(d.a,{in:!0,timeout:300,classNames:"alert",appear:!0,children:Object(c.jsx)("h1",{children:"Phonebook"})})}),Object(c.jsx)(L,{}),this.props.contacts.length>0&&Object(c.jsx)("div",{className:"addPanel",children:Object(c.jsx)("input",{name:"filter",onChange:this.setNewFilter,className:"addPanelInput",placeholder:"Find contact..."})}),Object(c.jsxs)("div",{className:"addPanel",children:[Object(c.jsx)("h2",{children:"Contacts"}),Object(c.jsx)(p.a,{component:"ul",children:this.filter().map((function(t){return Object(c.jsx)(d.a,{timeout:300,classNames:"item",children:Object(c.jsx)(j,{contact:t,handleDelete:e.handleDelete},t.id)},t.id)}))})]})]})}}]),n}(r.Component),G=Object(I.b)((function(e){return{contacts:e.contacts,filter:e.filter,warning:e.warning}}),(function(e){return{addNumber:function(t){e(k(t))},deleteNumber:function(t){e(P(t))},deleteApiNumber:function(t){e(function(e){return function(t){try{S.a.delete("https://socialprofile-96fb9-default-rtdb.firebaseio.com/numbers/".concat(e,".json")).then((function(){return console.log(" ")}))}catch(n){console.log(n)}}}(t))},setFilter:function(t){e(D(t))}}}))(M),R=(n(71),n(3)),U=n(36),q=function(e){return e.contacts},z=Object(C.b)(Object(O.a)({},{contacts:[],filter:"",warning:""}),(a={},Object(f.a)(a,v,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{contacts:[].concat(Object(h.a)(q(e)),[t.payload])})})),Object(f.a)(a,w,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{contacts:Object(h.a)(t.payload)})})),Object(f.a)(a,N,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{contacts:Object(h.a)(e.contacts.filter((function(e){return e.id!==t.payload})))})})),Object(f.a)(a,g,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{filter:t.payload})})),Object(f.a)(a,y,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},{warning:t.payload})})),a)),H=[n(15).a],K=R.applyMiddleware.apply(void 0,H),Q=Object(R.createStore)(z,Object(U.composeWithDevTools)(K));s.a.render(Object(c.jsx)(I.a,{store:Q,children:Object(c.jsx)(G,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.58e4df3a.chunk.js.map